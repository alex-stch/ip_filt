#!/usr/bin/bash
##
## This scrip is needed to check the compiled binary
##

printf "\n============== raw data input from stdin ==============\n"  >shell_ip_list.txt
awk -F'\t' '{print $1;}' ip_filter.tsv  >>shell_ip_list.txt
printf "\n============== reverse lexicographically sort ==============\n"  >>shell_ip_list.txt
awk -F'\t' '{print $1;}' ip_filter.tsv|sort -r -n -t . -k 1,1 -k 2,2 -k 3,3 -k 4,4 >>shell_ip_list.txt
printf "\n============== filter by first byte and output ==============\n"  >>shell_ip_list.txt
awk -F'\t' '{print $1;}' ip_filter.tsv|sort -r -n -t . -k 1,1 -k 2,2 -k 3,3 -k 4,4|awk -F. '$1==1{print $0;}' >>shell_ip_list.txt
printf "\n============== filter by first and second bytes and output ==============\n"  >>shell_ip_list.txt
awk -F'\t' '{print $1;}' ip_filter.tsv|sort -r -n -t . -k 1,1 -k 2,2 -k 3,3 -k 4,4|awk -F. '$1==46 && $2==70 {print $0;}' >>shell_ip_list.txt
printf "\n============== filter by any byte and output ==============\n"  >>shell_ip_list.txt
awk -F'\t' '{print $1;}' ip_filter.tsv|sort -r -n -t . -k 1,1 -k 2,2 -k 3,3 -k 4,4|awk -F. '$1==46 || $2==46 || $3==46 || $4==46 {print $0;}' >>shell_ip_list.txt
